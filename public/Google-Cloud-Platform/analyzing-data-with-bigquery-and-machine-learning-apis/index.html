<!DOCTYPE html>
<html class="no-js" lang="en" itemscope itemtype="https://schema.org/Blog">

<head>
  <meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta name="robots" content="all">
  <meta name="google-site-verification" content="jv8JHFCeqmxANKM3mXBtnW1KMtnYR2HJbTh60FEO9eE">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="640">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title itemprop="name">Analyzing data with BigQuery and Machine Learning APIs
    | Google Cloud DevTricks</title>
  <meta itemprop="author" content="Lee Boonstra">
  <meta itemprop="creator" content="Lee Boonstra">
  <meta itemprop="publisher" content="Lee Boonstra">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <link rel="canonical" href="https://devtricks-45484.firebaseapp.com">
  <link href="//plus.google.com/117712452932146916020" rel="author">
  <link rel="image_src" type="image/png" href="https://devtricks-45484.firebaseapp.com/images/screen.png">
  <link rel="profile" href="//gmpg.org/xfn/11">
  <link rel="pingback" href="https://devtricks-45484.firebaseapp.com">
  <link itemprop="mainEntityOfPage" href="https://devtricks-45484.firebaseapp.com">
  <meta name="description" content="Learn about data science and machine learning on Google Cloud Platform.">
  <meta name="keywords" content="BigQuery,Cloud launcher,Compute Engine,GCP,Natural Language API,Translate API,Virtual Machines">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Analyzing data with BigQuery and Machine Learning APIs">
  <meta property="og:url" content="https://devtricks-45484.firebaseapp.com/Google-Cloud-Platform/analyzing-data-with-bigquery-and-machine-learning-apis/index.html">
  <meta property="og:site_name" content="Google Cloud DevTricks">
  <meta property="og:description" content="Learn about data science and machine learning on Google Cloud Platform.">
  <meta property="og:locale" content="en">
  <meta property="og:image" content="https://devtricks-45484.firebaseapp.com/images/analyze-bq-ml-1-500x300.png">
  <meta property="og:image" content="https://devtricks-45484.firebaseapp.com/images/analyze-bq-ml-2-500x250.png">
  <meta property="og:image" content="https://devtricks-45484.firebaseapp.com/images/analyze-bq-ml-3.png">
  <meta property="og:image" content="https://devtricks-45484.firebaseapp.com/images/analyze-bq-ml-4-500x166.png">
  <meta property="og:updated_time" content="2018-11-25T16:00:28.886Z">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Analyzing data with BigQuery and Machine Learning APIs">
  <meta name="twitter:description" content="Learn about data science and machine learning on Google Cloud Platform.">
  <meta name="twitter:image" content="https://devtricks-45484.firebaseapp.com/images/analyze-bq-ml-1-500x300.png">
  <link rel="alternate" href="/atom.xml" title="Google Cloud DevTricks" type="application/atom+xml">
  <link rel="preconnect" href="https://devtricks-45484.firebaseapp.com">
  <link rel="preload" href="/assets/styles/main.css" as="style" type="text/css"
                                                                                  onload='this.rel="stylesheet"'><noscript>
    <link rel="stylesheet" href="/assets/styles/main.css"></noscript>
  <link rel="preload" href="/assets/js/vendor/modernizr-3.6.0.min.js" as="script">
  <link rel="preload" href="/assets/js/vendor/jquery-3.3.1.min.js" as="script">
  <link rel="preload" href="/assets/js/vendor/popper.min.js" as="script">
  <link rel="preload" href="/assets/js/vendor/bootstrap.min.js" as="script">
  <link rel="preload" href="/assets/js/disqus-lazy-min.js" as="script">
  <link rel="manifest" href="/manifest.json">
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <div class="wrapper">
    <header>
      <div class="filler"></div>
      <nav class="navbar navbar-expand-lg navbar-light navbar-inverse navbar-fixed-top"><button
                                                                                        class="navbar-toggler btn btn-dark"
                                                                                        type="button"
                                                                                        data-toggle="collapse"
                                                                                        data-target="#navbarTogglerDemo"
                                                                                        aria-controls="navbarTogglerDemo"
                                                                                        aria-expanded="false"
                                                                                        aria-label="Toggle navigation"><span
                                                                                          class="iconmenu"></span></button>
        <a class="navbar-brand" href="/" title="Google Cloud DevTricks">DevTricks</a>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo">
          <ul class="nav navbar-nav">
            <li><a class="iconHome" href="/index.html">Home</a></li>
            <li><a class="iconAbout" href="/about/">About</a></li>
            <li><a class="iconSpeaking" href="/speaking/">Speaking</a></li>
            <li><a class="iconWriting" href="/writing/">Writing</a></li>
            <li><a class="iconVideos" href="/categories/Videos/">Videos</a></li>
            <li><a class="iconContact" href="/contact/">Contact</a></li>
            <li>
              <div class="sidebar-module categories">
                <h4>Categories</h4>
                <ul class="sidebar-module-list">
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/App-Cache/">App
                      Cache</a><span class="sidebar-module-list-count">1</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Bots/">Bots</a><span
                                                                                                    class="sidebar-module-list-count">3</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Containers/">Containers</a><span
                                                                                                    class="sidebar-module-list-count">8</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Cordova/">Cordova</a><span
                                                                                                    class="sidebar-module-list-count">2</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Django/">Django</a><span
                                                                                                    class="sidebar-module-list-count">2</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Ext-JS/">Ext
                      JS</a><span class="sidebar-module-list-count">8</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Google-Cloud-Platform/">Google
                      Cloud Platform</a><span class="sidebar-module-list-count">1</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Machine-Learning/">Machine
                      Learning</a><span class="sidebar-module-list-count">1</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Robotics/">Robotics</a><span
                                                                                                    class="sidebar-module-list-count">1</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Sencha/">Sencha</a><span
                                                                                                    class="sidebar-module-list-count">1</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Sencha-Architect/">Sencha
                      Architect</a><span class="sidebar-module-list-count">2</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Sencha-CMD/">Sencha
                      CMD</a><span class="sidebar-module-list-count">4</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Sencha-Touch/">Sencha
                      Touch</a><span class="sidebar-module-list-count">3</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Theming/">Theming</a><span
                                                                                                    class="sidebar-module-list-count">2</span></li>
                  <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                    href="/categories/Videos/">Videos</a><span
                                                                                                    class="sidebar-module-list-count">13</span></li>
                </ul>
              </div>
            </li>
          </ul>
          <form action="//google.com/search" method="get" accept-charset="UTF-8"
                                                                                          class="search-form"><input
                                                                                            type="search"
                                                                                            name="q"
                                                                                            class="search-form-input"
                                                                                            placeholder="Search...">
            <button type="submit" class="btn btn-primary search-form-submit"><span
                                                                                              class="iconsearch"></span></button>
            <input type="hidden" name="sitesearch" value="https://devtricks-45484.firebaseapp.com"></form>
        </div>
      </nav>
    </header>
    <main class="container-fluid content">
      <h1 style="display:none">Blog</h1>
      <article id="post-analyzing-data-with-bigquery-and-machine-learning-apis"
                                                                                      class="article row article-type-post row contentarticle"
                                                                                      itemprop="blogPosts"
                                                                                      itemscope
                                                                                      itemtype="http://schema.org/BlogPosting">
        <link itemprop="mainEntityOfPage" href="https://devtricks-45484.firebaseapp.com/Google-Cloud-Platform/analyzing-data-with-bigquery-and-machine-learning-apis/">
        <div class="col col-sm-9 article-inner contentpage"><a class="twitter-share-button btn"
                                                                                          href="https://twitter.com/intent/tweet"
                                                                                          data-size="large"
                                                                                          target="_blank"><span>Tweet
              this</span></a> <a class="twitter-follow-button btn" href="https://twitter.com/ladysign"
                                                                                          data-size="large">Follow
            @ladysign</a>
          <header class="article-header">
            <h1 class="article-title" itemprop="headline">Analyzing data with
              BigQuery and Machine Learning APIs</h1>Posted on <a href="/Google-Cloud-Platform/analyzing-data-with-bigquery-and-machine-learning-apis/"
                                                                                            class="article-date"><time
                                                                                              datetime="2017-03-18T07:00:31.000Z"
                                                                                              itemprop="datePublished">Mar
                18th 2017</time> <time class="hidden" datetime="2018-11-25"
                                                                                              itemprop="dateModified">Nov
                25th 2018</time></a> in&nbsp;<div class="article-category"><a
                                                                                              class="badge badge-primary-link"
                                                                                              href="/categories/Google-Cloud-Platform/">Google
                Cloud Platform</a></div>
            <div class="hidden" itemprop="author" itemscope itemtype="http://schema.org/Person"><span
                                                                                              itemprop="name">Lee
                Boonstra</span></div>
            <div class="hidden" itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
              <meta itemprop="name" content="Ladysign">
              <meta itemprop="logo" content="https://devtricks-45484.firebaseapp.com/images/screen.png">
            </div><img class="hidden" itemprop="image" src="https://devtricks-45484.firebaseapp.com/images/screen.png"
                                                                                            alt="Screenshot">
          </header>
          <h2 id="Forecast-the-Dutch-elections-based-on-social-media-presence"><a
                                                                                            href="#Forecast-the-Dutch-elections-based-on-social-media-presence"
                                                                                            class="headerlink"
                                                                                            title="Forecast the Dutch elections based on social media presence."></a>Forecast
            the Dutch elections based on social media presence.</h2>
          <p>Wednesday the 15th of March 2017, was a big day for the
            Netherlands, at that day it was the Dutch general election, where
            the Dutch elected members of the house of representatives. The
            House of Representatives (the Second Chamber) is composed of 150
            seats elected by proportional representation in a single nationwide
            constituency. There are 28 political parties, where the Dutch can
            vote the members from. Since I recently started working with Google
            Cloud Platform, I thought it would be a great idea, to predict the
            winning political party based on social media presence and
            sentiment. This idea is based on the blog post of Sara Robinson: <a
                                                                                            href="https://medium.com/google-cloud/comparing-tweets-about-trump-hillary-with-natural-language-processing-a0064e949666"
                                                                                            target="_blank"
                                                                                            rel="noopener">Comparing
              tweets about Trump &amp; Hillary with natural language
              processing.</a></p><a id="more"></a>
          <p>This blog post will contain the following technical pieces:</p>
          <ul>
            <li><strong>Compute Engine</strong> (1) - To deploy our data
              scraping script on a VM.</li>
            <li><strong>Machine Learning APIs</strong> - To use Natural
              Language API (4) to understand the context of the data, and since
              our data is in Dutch (and the Natural Language API doesn’t
              support the Dutch language yet), we will need the Translate API
              (2) to translate.</li>
            <li><strong>BigQuery</strong> (5) - To collect a lot of data. To
              analyze this data we use BigQuery and run some queries on it.</li>
            <li><strong>DataStudio</strong> - To visualize our result set, we
              will make use of Google’s Data Studio (6). We can use some nice
              charts!</li>
          </ul>
          <p>To do the social media data scraping, we use the <strong>Twitter
              Streaming API</strong>. The application code is written in
            JavaScript for Node.js. Let’s get started with this tutorial, and
            see if we can predict which Dutch political party will win the
            elections!</p>
          <p><img src="/images/analyze-bq-ml-1-500x300.png" alt="Application Architecture with the various Google Cloud solutions"></p>
          <p><em>NOTE: This blog post won’t contain any political opinions from
              me, neither from Google. This is a blog post to demonstrate the
              various solutions of the Google Cloud Platform, on how you can be
              creative with data. Please see the <a href="#disclaimer">disclaimer</a>,
              at the end of this article.</em></p>
          <h3 id="Prerequisites"><a href="#Prerequisites" class="headerlink"
                                                                                            title="Prerequisites"></a>Prerequisites</h3>
          <ul>
            <li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node
                JS</a></li>
            <li>Node <a href="http://expressjs.com/" target="_blank" rel="noopener">Express</a>
              framework ( <code>$ npm install express --save</code>)</li>
            <li>A GCP Account (or create a <a href="https://cloud.google.com/free-trial/"
                                                                                              target="_blank"
                                                                                              rel="noopener">free
                trial account</a>)</li>
          </ul>
          <h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink"
                                                                                            title="Getting Started"></a>Getting
            Started</h2>
          <p>To get started, open the GCP console, and create a new project. Go
            to: <a href="https://console.cloud.google.com" target="_blank" rel="noopener">https://console.cloud.google.com</a>
            and click: <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects"
                                                                                            target="_blank"
                                                                                            rel="noopener">Create
              new project</a>, and enter an easy to remember project name,
            which will be used as the project id. You will have to remember
            this. Next, on your local machine, generate an empty Node Express
            application: <code>$ express</code></p>
          <p><em>NOTE: Technically, for this demo, you don’t need Express,
              since Express is a Web framework for Node.js. I choose it though,
              since I prefer working from this folder structure. My code will
              be future proof, should I ever plan to port it to a web app.</em>
            Once, the generation is done, you can open the <strong>package.json</strong>
            file, and add the following lines of code dependencies:</p>
          <figure class="highlight">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line">"dotenv": "~4.0.0", </span><br><span class="line">"google-cloud": "~0.47.0", </span><br><span class="line">"user-stream": "~0.0.8", </span><br><span class="line">"nodemon": "~1.11.0",</span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p>After, you are done; run the following command in your terminal:
            <code>$ npm install</code> Go back to the <a href="https://console.cloud.google.com/"
                                                                                            target="_blank"
                                                                                            rel="noopener">GCP
              console</a> and click the hamburger menu icon, and select:
            <strong>IAM &gt; Service Accounts &gt; Create Service Account</strong>
            Service account name: <strong>nodeapp</strong> Role: <strong>Project
              &gt; Owner</strong> Click: <strong>Create &gt; Close</strong>
            Click the <strong>button with the 3 dots</strong> next to nodeapp,
            to open an extra menu. Select: <strong>Create key</strong>. Choose
            <strong>JSON</strong>. Click <strong>Create</strong>. A key has
            been saved to your local machine. Rename this -.json file, as:
            <strong>cloudkey.json</strong>, and copy it into your freshly
            generated Express app, root folder. Also, create an <strong>.env</strong>
            file in the root of your Express app folder. It should have the
            following contents: <code>GCLOUD_PROJECT=
              GCLOUD_KEY_FILE=./cloudkey.json</code>.</p>
          <p>Later in this tutorial, you will also need to add the keys for the
            Twitter Streaming API in here. ## Twitter Streaming API The <a href="https://dev.twitter.com/streaming/overview"
                                                                                            target="_blank"
                                                                                            rel="noopener">Twitter
              Streaming APIs</a> give developers low latency access to
            Twitter’s global stream of Tweet data. A streaming client that
            pushes tweets, without any of the overhead associated with polling
            a REST endpoint. Exactly, what we need, to monitor the Twitter
            newsfeed during election day, so we can see which party is popular
            on Twitter. We will need to create a <a href="https://dev.twitter.com/resources/signup"
                                                                                            target="_blank"
                                                                                            rel="noopener">Twitter
              API account</a>. (and if you don’t have Twitter, also a Twitter
            account). With the Twitter API account, you can create an
            application, and generate the tokens. These tokens, you will need
            to copy to the <strong>.env</strong> file in the root of your Node
            project. It has the following contents: <code>CONSUMER_KEY=
              CONSUMER_SECRET= ACCESS_TOKEN_KEY= ACCESS_TOKEN_SECRET=</code></p>
          <p>Create a folder called: <strong>lib</strong> Create the following
            file in the <strong>lib</strong> folder: <strong>twitter.js</strong>
            The <strong>twitter.js</strong> file will contain the following
            content:</p>
          <script src="//gist.github.com/bf0afb23c5a6606c8aa3b1afbe49f873.js"></script>
          <p>Now you can start testing your twitter stream. In your terminal
            run the following command from your Express root folder: <code>$
              node bin/www</code> Now, look in your terminal, you should see
            the data based on your search terms streaming in. To close the data
            stream hit <strong>CTRL + c</strong>.</p>
          <h2 id="Machine-Learning-APIs"><a href="#Machine-Learning-APIs" class="headerlink"
                                                                                            title="Machine Learning APIs"></a>Machine
            Learning APIs</h2>
          <p>Nice all that data, but how will we know that people are talking
            good or bad about a certain political party? Just counting all the
            tweets, wouldn’t be the correct thing to do, we actually need to
            understand the context of the data. Hmm, how can we automate this?
            For this, you can actually use machine learning. Machine learning
            is not only for data scientists and experts, you and I can make use
            of it as well. The Google Cloud platform provides a bunch of APIs
            which are easy to use. Think about machine learning APIs such as:
            <em>Speech API</em> (which can convert speech to text), <em>Vision
              API</em> (which can get insights from pictures), <em>Translate
              API</em> (to translate text to a certain language), <em>Video
              Intelligence API</em> (to retrieve metadata from videos) and <em><a
                                                                                              href="https://cloud.google.com/natural-language/"
                                                                                              target="_blank"
                                                                                              rel="noopener">Natural
                Language API</a></em> (to derive insights from unstructured
            text). Google is planning to release much more machine learning
            APIs to the cloud platform, and on top of that; if you are a data
            scientists you could write your own machine learning models. The
            last mentioned API is what we need to understand pieces of our
            Twitter data. However…</p>
          <p>Unfortunately, the NLP API won’t understand the Dutch language
            yet. So here’s the test case: Would it work if we translate the
            text from Dutch to English first? Afterall, the only thing we need
            to know is if the context of the tweet is positive or negative.
            Let’s give it a try. We make use of the <a href="https://cloud.google.com/translate/"
                                                                                            target="_blank"
                                                                                            rel="noopener">Translate
              API</a> first, afterwards the Natural Language API. Later, we
            will store in BigQuery the original tweet, but with a ranking total
            score column. Go to the <a href="https://console.cloud.google.com"
                                                                                            target="_blank"
                                                                                            rel="noopener">cloud
              console</a> and click on the <strong>menu</strong> (hamburger)
            button. Click <strong>API Manager &gt; Dashboard</strong> and click
            <strong>Enable APIs</strong>. Click <strong>Natural Language API</strong>
            from the Google Cloud Machine Learning API section. Click <strong>Enable</strong>.
            Go back to the previous screen, and select <strong>Translation API</strong>
            and hit <strong>Enable</strong> again. In the <strong>lib</strong>
            folder, create the following file: <strong>ml.js</strong> which
            contains these contents: (see the comments in the JavaScript code
            for further explanation).</p>
          <script src="//gist.github.com/fb2c637e981ae582aeae520d01c4a3d3.js"></script>
          <p>In <strong>twitter.js</strong>, add the following line somewhere
            in the top of the file:</p>
          <figure class="highlight javascript">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>); </span><br><span class="line"><span class="keyword">var</span> machinelearning = <span class="built_in">require</span>( path.resolve( __dirname, <span class="string">"ml.js"</span> ) );</span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p>You can test the MachineLearning APIs by adding the following
            example code lines to the end of the file:</p>
          <figure class="highlight javascript">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line">getSentiment(<span class="string">'I love Milkshakes'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">results</span>)</span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(results.sentences); </span><br><span class="line">&#125;); </span><br><span class="line">getTranslation(<span class="string">'Ik houd van Milkshakes.'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">results</span>)</span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(results); </span><br><span class="line">&#125;);</span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p>The sentiment score is a number between -1.0 (negative sentiment)
            and 1.0 (positive sentiment). The magnitude is a non-negative
            number in the [0, +inf) range, which represents the absolute
            magnitude of sentiment regardless of score (positive or negative).
            To change the language, change the <code>from</code> input
            parameter on line 11, to another language, such as <code>es</code>
            for Spanish, or <code>fr</code> for French. Feel free to play
            arround with it, and pass in different text strings, or language
            API settings. From the terminal run: <code>$ node bin/www</code>
            Now, you will have to add these pieces of code, within the <code>stream.on()</code>
            function, right after the <code>console.log</code> line. (let’s say
            line 42). This will be a callback, in a callback, in a callback…
            <em>pffff</em>. …and we also need to bind to the original scope! So
            I solved it this way:</p>
          <script src="//gist.github.com/89d57616b54474134106db24211f3ae5.js"></script>
          <p>Once done with it, start the node app again. You should see the
            Twitter lines, streaming in, with translations and sentiment
            detection. The next step will be to push these data into BigQuery!</p>
          <h2 id="BigQuery"><a href="#BigQuery" class="headerlink" title="BigQuery"></a>BigQuery</h2>
          <p>The next challenge is to store this data in the BigQuery storage
            in the Google cloud. BigQuery is a fast, economical and
            fully-managed enterprise data warehouse for large-scale data
            analytics. BigQuery can query terabytes of data in seconds and
            petabytes in minutes! The code to save the data in BigQuery is not
            so difficult. Please have a look:</p>
          <script src="//gist.github.com/11490d86a942f0b0acb83b55009cac95.js"></script>
          <p>In <strong>twitter.js</strong> you will need to require the file:</p>
          <figure class="highlight javascript">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="keyword">var</span> bigquery = <span class="built_in">require</span>( path.resolve( __dirname, <span class="string">"bigQuery.js"</span> ) );</span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p></p>
          <p>And within the most inner callback (on line 127), you can enable
            the <code>insertBq()</code> method:</p>
          <figure class="highlight javascript">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line">bigquery.insertInBq(row);</span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p>Run the node app for a while. This will load new content into
            BigQuery. We can now run a bunch of queries to analyze our data.
            Click <strong>Compose Query</strong>, write:</p>
          <figure class="highlight sql">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SUM</span>(score) <span class="keyword">as</span> totalscore, party, <span class="keyword">COUNT</span>(party) <span class="keyword">as</span> totalparties </span><br><span class="line"><span class="keyword">FROM</span> dutchelectionstweets.dutchelections <span class="keyword">GROUP</span> <span class="keyword">BY</span> party <span class="keyword">ORDER</span> <span class="keyword">BY</span> totalscore <span class="keyword">DESC</span></span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p>This query, will sum the <em>total sentiment score</em> per party.
            Also, it counts and it groups the parties. Click <strong>Run</strong>,
            to run the query. You will see the results in the table below. When
            the results look ok to you, you can save the view. This will create
            a new view (which is like a table, but it includes the query). It
            contains the unique result set. We will need this later for Data
            Studio. Let’s create a few more views. Such as the 3 most positive
            parties:</p>
          <figure class="highlight sql">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SUM</span>(score) <span class="keyword">as</span> totalscore, party <span class="keyword">FROM</span> dutchelectionstweets.dutchelections </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> party <span class="keyword">ORDER</span> <span class="keyword">BY</span> totalscore <span class="keyword">DESC</span> <span class="keyword">LIMIT</span> <span class="number">3</span></span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p>The total amount of tweets per party:</p>
          <figure class="highlight sql">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="keyword">SELECT</span> party, <span class="keyword">COUNT</span>(party) <span class="keyword">as</span> totalparties <span class="keyword">FROM</span> dutchelectionstweets.dutchelections </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> party <span class="keyword">ORDER</span> <span class="keyword">BY</span> totalparties <span class="keyword">DESC</span></span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p>And the total amount of tweets:</p>
          <figure class="highlight sql">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(<span class="built_in">text</span>) <span class="keyword">as</span> totaltweets <span class="keyword">FROM</span> dutchelectionstweets.dutchelections</span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <p>In case you want to browse through all the tweets you can use:</p>
          <figure class="highlight sql">
            <table>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">text</span>, party, score <span class="keyword">FROM</span> dutchelectionstweets.dutchelections</span><br></pre>
                </td>
              </tr>
            </table>
          </figure>
          <h3 id="Data-Studio"><a href="#Data-Studio" class="headerlink" title="Data Studio"></a>Data
            Studio</h3>
          <p>Instead of displaying the results in <em>“boring”</em> tables, we
            could very easily display the result sets in charts. I’ve used <a
                                                                                            href="https://datastudio.google.com"
                                                                                            target="_blank"
                                                                                            rel="noopener">Google
              Data Studio</a> for this.</p>
          <p><img src="/images/analyze-bq-ml-2-500x250.png" alt="Image"></p>
          <p>When you drop a chart on the stage, you will need to <strong>Create
              a new Data Source</strong>. Which you can set to <strong>BigQuery
              Connector</strong>. From there, you select your project, your
            dataset, and then your table set or table views. From that moment,
            you can start using all your data within the Studio. You can easily
            refresh the data, by clicking on the <strong>Refresh Data</strong>
            button:</p>
          <p><img src="/images/analyze-bq-ml-3.png" alt="Refresh data in Data Studio"></p>
          <p>With Google Data Studio you can drag and drop charts, images and
            visualizations on the stage. It turns your data into informative
            dashboards and reports which are easy to read and share. Google
            Data Studio is currently in beta. It’s not part of Google Cloud
            Platform, it’s a Google Analytics solution. You can read more about
            this tool on: [<a href="https://www.google.com/analytics/data-studio/]"
                                                                                            target="_blank"
                                                                                            rel="noopener">https://www.google.com/analytics/data-studio/]</a></p>
          <h2 id="Compute-Engine-Cloud-Launcher"><a href="#Compute-Engine-Cloud-Launcher"
                                                                                            class="headerlink"
                                                                                            title="Compute Engine / Cloud Launcher"></a>Compute
            Engine / Cloud Launcher</h2>
          <p>Ok, so we’re done with writing the code to fetch and analyze our
            data! Although you could keep your terminal open on your local
            machine for a full day, it’s not ideal. At the end, this process
            will take some processing power. A better use case would be to move
            it to a virtual machine.</p>
          <p><img src="/images/analyze-bq-ml-4-500x166.png" alt="Image"></p>
          <p>Let’s create a virtual machine. Open the <a href="https://console.cloud.google.com/"
                                                                                            target="_blank"
                                                                                            rel="noopener">Cloud
              console</a> in your browser. You could create a virtual machine,
            manually yourself by clicking the <strong>Compute Engine</strong>
            menu option. But since we need an image which requires Node.js
            installed, we will do it the easy way, instead make use of <strong>Cloud
              Launcher</strong>!</p>
          <ol>
            <li>Click [<a href="https://console.cloud.google.com/launcher/]"
                                                                                              target="_blank"
                                                                                              rel="noopener">https://console.cloud.google.com/launcher/]</a></li>
            <li>Search for <strong>Node.js</strong></li>
            <li>Choose the 2nd Node.js image, (the one from <strong>Bitnami</strong>.)</li>
            <li>Click the <strong>Launch on Compute Engine</strong> button.</li>
            <li>Specify a name, and a zone (I am in Europe, so I choose <strong>europe-west-1b</strong>)</li>
            <li>Choose <strong>micro machine</strong> type.</li>
            <li>Hit the <strong>Deploy</strong> button. Notice, how fast it
              will launch this virtual machine for you!</li>
          </ol>
          <p>After you deployed the Bitnami Node.js app, you will see the IP
            address where your VM will be available. There’s an <strong>SSH</strong>
            dropdown. Hit it, and click <strong>View SSH command</strong>. It
            will show you the command that you can paste in your local
            terminal. For example: <code>gcloud compute --project
              &quot;myproject&quot; ssh --zone &quot;europe-west1-b&quot;
              &quot;nodejs-1-vm&quot;</code> This will log you in on the
            virtual machine. When you run this command the first time, you will
            need to create a passphrase. It will automatically create a public
            key on your machine. Once you’re logged in, you can verify if
            nodejs was properly installed. Enter: <code>$ node -v</code> It
            should output the nodejs version number.</p>
          <p>The next step is to transfer our project on this virtual machine.
            You can use Github for this, or you can use Google Cloud
            Development repositories. (I choose Github, since I want to share
            my public Github repository, with you. When you have your own
            project running locally on your machine, you can follow the steps
            from the <strong>Development</strong> screen instead.) Pull the
            code, from some repository in the root of your vm: <code>$ git
              clone https://github.com/savelee/gcloud-bq-election-demo.git</code>
            Navigate into the folder: <code>$ cd gcloud-bq-election-demo/</code>
            Install all the nodejs packages: <code>$ npm install</code></p>
          <p>We aren’t done yet! We need to have all our keys available on the
            virtual machine. That’s the <strong>.env</strong> file and the
            <strong>cloudkeys.json</strong> file. Obviously, I didn’t put these
            files in my public Github repo. Hmm, so how can we move these files
            to the VM? With AppEngine or ContainerEngine, you probably would
            work with Docker images, so you can easily put these keys in the
            Docker file. For this demo, we use Compute Engine, so we should
            make use of <a href="https://cloud.google.com/storage/" target="_blank"
                                                                                            rel="noopener">Google
              Cloud Storage</a> instead. We can create a bucket, and upload our
            keys into it. Open the Cloud console in your browser. Click on
            <strong>Storage &gt; Create Bucket</strong>. Give the bucket a
            name. (For example <em>-contents&gt;</em>). Make sure this
            bucketname is unique, and remember it, because you will use it
            later. Select <strong>Regional</strong>, and select the same region
            as the VM you have choosen before. (so <em>europe-west1</em> in my
            case.) Click <strong>Create</strong>. Once the bucket is created,
            we upload the files from the command-line. In your terminal on your
            local development machine enter the following two commands: <code>$
              gsutil cp .env gs://</code> <code>$ gsutil cp cloudkey.json gs://</code>
            Both files are now in the bucket. The next step will be to download
            it, from the bucket into your virtual machine. Open the terminal
            which runs on your VM. Enter the following command, to download
            everything from the bucket, into the root of your vm: <code>$
              gsutil cp gs:///* .</code> If you want, you can remove your
            bucket in the console. (Although, it probably wouldn’t cost much,
            to save 2 small files.) And now you can start the Node.js service:
            <code>$ nodemon bin/www</code> And now you can start the Node.js
            service.</p>
          <p>You might have noticed, that when you start running nodemon, and
            you close the VM console, that your script stops as well. What you
            will need is a Node module, which can run your script “forever”.
            <code>$ npm install forever -g</code> And then start your script
            like: <code>$ sudo /opt/bitnami/nodejs/bin/forever start bin/www</code>
            (with <code>sudo forever stopall</code> you can stop the script
            again) You should see the Tweets coming by. When you query in
            BigQuery you will see the results! Awesome, now let’s keep this
            process running for a while! <em>TIP: In case you rather want to
              schedule your script to go on, on a certain time, you could use
              Cron for this.</em> <em>First create a symlink to the correct
              node folder:</em> <code>$ sudo ln -s /opt/bitnami/nodejs
              /usr/bin/node</code> <em>Then start a crontab</em> <code>$
              crontab -e</code> <em>Inside the crontab you code probably would
              look something like:</em> <code>SHELL=/bin/shell</code> <code>0 0
              15 3 * PATH=$PATH:/opt/bitnami/nodejs cd
              ~/gcloud-bq-election-demo/ &amp;&amp; sudo
              /opt/bitnami/nodejs/bin/forever start bin/www</code> <em>This
              means, at 0:00:00 time, on the 15th of March, navigate to the
              gcloud-bq-election-demo directory, and start the nodemon script.
              You can request the VM time by running <code>date</code> in the
              console.</em> <em>You can check if it all worked out, by viewing
              the logs:</em> <code>$ tail -f /var/log/syslog</code></p>
          <h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2>
          <p>By now, you have learned how to work with various Google Cloud
            services. We have been looking into: <strong>Compute Engine</strong>
            and <strong>Cloud Launcher</strong> to spin off a VM in the cloud,
            <strong>Machine Learning APIs</strong> like the <strong>Natural
              Language API</strong> and <strong>Translation API</strong> to
            understand the data, <strong>BigQuery</strong> to analyze the data
            and <strong>Data Studio</strong> to visualize the data in nice
            charts. Did I predict the Dutch elections well? Well, in some
            extend. The top 2 most positively spoken parties on Twitter, got
            the 2nd and 3rd place in the final results. So that was as
            expected. The PvdA didn’t do well at all, and the VVD got the first
            place in the elections, with the most votes. If I do random checks
            on the collected data, I can see that the sentiment detection has
            been calculated correctly. There is just no real direct relation
            between popularity on social media vs. the voting process. But mind
            you every person can only vote once, but can post unlimited
            positive or negative tweets. All my code will be in Github [<a href="https://github.com/savelee/gcloud-bq-election-demo]"
                                                                                            target="_blank"
                                                                                            rel="noopener">https://github.com/savelee/gcloud-bq-election-demo]</a>.
            Feel free to use my code, to run a similar case. I will put the
            instructions on how to setup, in the readme file. In case you are
            new to Google Cloud platform. You can create <a href="https://cloud.google.com/free-trial/"
                                                                                            target="_blank"
                                                                                            rel="noopener">a
              free trial account</a>, which includes $300 dollars that can be
            used to spend on cloud services which expire after 12 months. That
            should be enough money to try out this demo.</p>
          <h3 id="The-costs"><a href="#The-costs" class="headerlink" title="The costs"></a>The
            costs</h3>
          <p>To run this tutorial for one day in a Compute VM created by Cloud
            Launcher, with the use of machine learning APIs and streaming and
            querying within BigQuery, costed me about 14 dollars.</p>
          <p>This included the VM running for 5 days (which costed me a
            dollar). My data wasn’t that big, so I didn’t had any costs for
            executing BigQuery queries. I was worried about the amount of API
            calls that I would made, but by running the script for a large part
            of the election day, I managed to still stay mostly within the free
            Natural Language API call request tier. So most of my money has
            been used on the large amount of tweets that has been translated.
            Let’s drill a little more into the costs of GCP.</p>
          <p>BigQuery storage will cost, $0.02 per GB Streaming data in
            BigQuery: $0.05 per GB (loading data is free). To execute Queries,
            will cost you $5.00 per TB but the first TB per month is free. <a
                                                                                            href="https://cloud.google.com/bigquery/pricing"
                                                                                            target="_blank"
                                                                                            rel="noopener">BigQuery
              Pricing</a>. Note, that Data Studio makes use of a BigQuery
            connector, which basically fires queries in BigQuery.</p>
          <p>The price for a micro virtual machine will cost less than 5 dollar
            a month. But for a computing demo like this, you will probably only
            run it for a bit, and pay for your use. With Compute Engine, you
            will pay per minute, with a 10 minute minimum. The prices for
            translation and language detection is about 20 dollars for a
            million characters. It will become cheaper, once your amount is
            over the 1.5 billion characters. See <a href="https://cloud.google.com/translate/pricing"
                                                                                            target="_blank"
                                                                                            rel="noopener">Translate
              API pricing</a>.</p>
          <p>The Natural Language API has a free tier, if the amount of text
            records stays under the 5k, for pricing info see: <a href="https://cloud.google.com/natural-language/pricing"
                                                                                            target="_blank"
                                                                                            rel="noopener">Natural
              Language Pricing</a>. Another great way, for checking and
            estimating costs, is by making use of the <a href="https://cloud.google.com/pricing/calculators"
                                                                                            target="_blank"
                                                                                            rel="noopener">GCP
              Pricing calculators</a>.</p>
          <p>In case you are concerned about the prices, you can setup a
            billing alert. Which can send an email to you once you reach your
            quota. From the Cloud console, you can enable this, by clicking:
            <strong>Billing &gt; Budgets &amp; Alerts</strong>. In this screen,
            you can select the project, and your quota. - You can get emails
            once you get closer to your quota.</p>
          <h2 id="Disclaimer"><a href="#Disclaimer" class="headerlink" title="Disclaimer"></a>Disclaimer</h2>
          <p>This blog post won’t contain any political opinions from me,
            neither from Google. This is a blog post to demonstrate the various
            solutions of the Google Cloud Platform, on how you can be creative
            with data. I have collected a large part of the day all the Dutch
            political tweets, posted on Twitter. Though, my results can not be
            considered as the ultimate truth. I use the Natural Language API in
            combination with the Translation API, translating first from Dutch
            to English before doing a sentiment analysis. Whether this always
            results, in the right score is the question. But based on some
            random tests, the majority of the tweets seem to have a reasonable
            score. At the end I only need to figure out if the score is
            positive or negative.</p>
          <p>Let’s look into an example: Here’s the translation of the <code>translate.translate()</code>
            call with the following text: <code>Partij XYZ is mijn favoriete
              partij. Met de meeste stellingen ben ik het eens.</code>. It will
            be translated to this: <code>Party XYZ is my favorite party. With
              most positions, I agree.</code> If I would have translated it
            myself, I probably would have said it a little different: “Party
            XYZ is my favorite party. I agree with most of the positions they
            take on issues.” However, to detect the sentiment, it doesn’t
            really matter, the score seems to be positive and correct: <code>{
              magnitude: 0.800000011920929, score: 0.800000011920929 }</code></p>
          <p>There are certain tweets which I left out the <em>totalscore</em>
            calculation for sentiment analysis. For example, tweets which
            contain multiple opinions for multiple political parties in one
            single tweet: <em>Here’s the result of the <code>language.detectSentiment()</code>
              call with the following text: <code>I love Milkshakes.</code> :
              <code>{ magnitude: 0.699999988079071, score: 0.699999988079071 }</code></em></p>
          <p>Here’s the result of the <code>language.detectSentiment()</code>
            call with the following text: <code>I really hate Whipcream.</code>
            : <code>{ magnitude: 0.5, score: -0.5 }</code></p>
          <p>Here’s the result for the <code>language.detectSentiment()</code>
            call with the following text: <code>I love Milkshakes but I really
              hate Whipcream.</code> : <code>{ magnitude: 0, score: 0 }</code>
            I’m sure there are ways on how you can calculate this more nicely,
            but for now it’s out of scope for this blog post. (I came to this
            conclusion after seeing tweets (in single sentences) were people
            tag 5 different parties, with good and bad opinions about those.)
            Then there are also tweets, which are very hard for a machine to
            detect; for example tweets that contain sarcasm:</p>
          <p>Here’s the result for the <code>language.detectSentiment()</code>
            call with the following text: <code>Such a great idea, yeah, and
              monkeys can fly!</code> : <code>{ magnitude: 0.5, score: 0.5 }</code></p>
          <p>I left these tweets in my score calculation, assuming that people
            will use sarcasm for every political party, with both a positive
            and negative meaning. Last but not least, not everyone who votes,
            shares their thoughts on Twitter, and some people with strong
            political opinions might tweet more, to use it as a personal
            outlet. But in real-life, a person can obviously only vote once.
            It’s interesting anyway and I was curious to see, if my analysis
            results come close to the final scores of the Dutch elections. At
            the end, I had a lot of fun by writing the code, and I learned a
            lot about the Google Cloud Platform. BTW; do you want to receive
            more insights about the Dutch Elections? Google has a <a href="https://trends.google.nl/trends/story/NL_cu_l5QQ-lkBAADe7M_en"
                                                                                            target="_blank"
                                                                                            rel="noopener">Google
              Trends</a> page.</p>
          <h2 id="Handy-Links"><a href="#Handy-Links" class="headerlink" title="Handy Links"></a>Handy
            Links</h2>
          <ul>
            <li><a href="[https://cloud.google.com/free-trial/">Create a free
                GCP trial account</a></li>
            <li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node
                JS</a></li>
            <li><a href="http://expressjs.com/" target="_blank" rel="noopener">Express</a></li>
            <li><a href="https://dev.twitter.com/streaming/overview" target="_blank"
                                                                                              rel="noopener">Twitter
                Streaming APIs</a></li>
            <li><a href="https://cloud.google.com/translate/" target="_blank"
                                                                                              rel="noopener">Translate
                API</a></li>
            <li><a href="https://cloud.google.com/translate/pricing" target="_blank"
                                                                                              rel="noopener">Translate
                API pricing</a></li>
            <li><a href="https://cloud.google.com/natural-language/" target="_blank"
                                                                                              rel="noopener">Natural
                Language API</a></li>
            <li><a href="https://cloud.google.com/natural-language/pricing"
                                                                                              target="_blank"
                                                                                              rel="noopener">Natural
                Language Pricing</a></li>
            <li><a href="https://cloud.google.com/bigquery/" target="_blank"
                                                                                              rel="noopener">BigQuery</a></li>
            <li><a href="[https://cloud.google.com/bigquery/pricing]">BigQuery
                pricing</a></li>
            <li><a href="[https://www.google.com/analytics/data-studio/]">Data
                Studio</a></li>
            <li><a href="https://datastudio.google.com" target="_blank" rel="noopener">Run
                Google Data Studio</a></li>
            <li><a href="https://cloud.google.com/launcher/" target="_blank"
                                                                                              rel="noopener">Cloud
                Launcher</a></li>
            <li><a href="https://cloud.google.com/storage/" target="_blank" rel="noopener">Cloud
                Storage</a></li>
            <li><a href="https://cloud.google.com/pricing/calculators" target="_blank"
                                                                                              rel="noopener">GCP
                Pricing calculators</a></li>
            <li><a href="https://medium.com/google-cloud/comparing-tweets-about-trump-hillary-with-natural-language-processing-a0064e949666"
                                                                                              target="_blank"
                                                                                              rel="noopener">Comparing
                tweets about Trump &amp; Hillary with natural language
                processing.</a></li>
          </ul>
          <script type="application/ld+json">
            {
              "@context": "http://schema.org",
              "@type": "BlogPosting",
              "headline": "Analyzing data with BigQuery and Machine Learning APIs",
              "genre": "technology",
              "datePublished": "2017-03-18",
              "dateCreated": "2017-03-18",
              "dateModified": "2017-03-18",
              "publisher": {
                "@type": "Organization",
                "name": "Ladysign",
                "logo": "https://devtricks-45484.firebaseapp.com/images/screen.png"
              },
              "description": "DevTricks Lee Boonstra's blog. Learn about data science and machine learning on Google Cloud Platform.",
              "mainEntityOfPage": "https://devtricks-45484.firebaseapp.com/Google-Cloud-Platform/analyzing-data-with-bigquery-and-machine-learning-apis/",
              "image": "https://devtricks-45484.firebaseapp.com/images/screen.png",
              "articleBody": "DevTricks Lee Boonstra's blog. Learn about data science and machine learning on Google Cloud Platform.",
              "author": {
                "@type": "Person",
                "name": "Lee Boonstra",
                "url": "http://www.leeboonstra.com"
              }
            }

          </script>
          <footer class="article-foot"><a class="badge badge-primary tag-link"
                                                                                            href="/tags/BigQuery/">BigQuery</a><a
                                                                                            class="badge badge-primary tag-link"
                                                                                            href="/tags/Cloud-launcher/">Cloud
              launcher</a><a class="badge badge-primary tag-link" href="/tags/Compute-Engine/">Compute
              Engine</a><a class="badge badge-primary tag-link" href="/tags/GCP/">GCP</a><a
                                                                                            class="badge badge-primary tag-link"
                                                                                            href="/tags/Natural-Language-API/">Natural
              Language API</a><a class="badge badge-primary tag-link" href="/tags/Translate-API/">Translate
              API</a><a class="badge badge-primary tag-link" href="/tags/Virtual-Machines/">Virtual
              Machines</a>
            <div class="bar"><a class="twitter-share-button btn" href="https://twitter.com/intent/tweet"
                                                                                              data-size="large"
                                                                                              target="_blank"><span>Tweet
                  this</span></a></div>
            <ul id="article-nav">
              <li><a href="/Machine-Learning/introduction-to-the-video-intelligence-api/"
                                                                                                id="article-nav-newer"
                                                                                                class="article-nav-link-wrap"
                                                                                                rel="prev">
                  <div class="article-nav-title">&laquo;</div>
                </a></li>
              <li><a href="/Sencha/goodbye-sencha-hello-google/" id="article-nav-older"
                                                                                                class="article-nav-link-wrap"
                                                                                                rel="next">
                  <div class="article-nav-title">&raquo;</div>
                </a></li>
            </ul>
          </footer>
        </div>
        <div class="col col-sm-3">
          <aside id="sidebar" class="sidebar">
            <div class="profile">
              <section><span class="headshot"><a href="/images/profile.jpg"><img
                                                                                                    src="/images/profile_small.jpg"
                                                                                                    alt="Lee Boonstra"></a></span>
                <h2><a href="https://plus.google.com/117712452932146916020/"
                                                                                                  rel="author me"
                                                                                                  target="_blank">Lee
                    Boonstra</a></h2>
                <div>
                  <p><a href="https://plus.google.com/117712452932146916020/"
                                                                                                    rel="author me"
                                                                                                    target="_blank">Lee
                      Boonstra</a> is a customer engineer at Google, at the
                    Google Cloud team where she assist the sales team with
                    technical knowledge for the financial industry.</p>
                  <p>Lee lives in Amsterdam and has experience in application
                    development. She spends her spare time developing web and
                    mobile apps. Before Google, she worked for Sencha, where
                    she traveled all the world as sales engineer and technical
                    trainer. Further more, she speaks regularly at seminars and
                    conferences and writes blogposts and articles for various
                    magazines and websites. Also, she wrote a book for
                    O'Reilly: Hands-on Sencha Touch 2.</p>
                </div>
                <script type="application/ld+json">
                  {
                    "@context": "http://schema.org",
                    "@type": "Person",
                    "image": "https://www.leeboonstra.com/images/profile.jpg",
                    "jobTitle": "Sales Engineer",
                    "address": {
                      "@type": "PostalAddress",
                      "addressCountry": "Netherlands",
                      "addressLocality": "Amsterdam"
                    },
                    "worksFor": {
                      "@type": "Organization",
                      "alternateName": "Google Cloud",
                      "name": "Google"
                    },
                    "name": "Lee Boonstra",
                    "birthDate": "1983.06.16",
                    "gender": "female",
                    "nationality": "Dutch",
                    "url": "http://www.leeboonstra.com",
                    "sameAs": ["https://nl.linkedin.com/in/leeboonstra",
                      "http://twitter.com/ladysign",
                      "https://plus.google.com/117712452932146916020/"
                    ]
                  }

                </script>
              </section>
              <section>
                <h2>Hands-on Sencha Touch 2</h2><a href="//shop.oreilly.com/product/0636920030058.do"
                                                                                                class="book"><img
                                                                                                  height="100"
                                                                                                  src="/images/book.gif"
                                                                                                  class="thumb"
                                                                                                  alt="My book."></a>
                <p>Build snappy web apps for mobile devices with Sencha Touch
                  2, the user interface JavaScript framework built specifically
                  for the mobile Web.</p>
                <p>With this book, you’ll learn how to build a complete
                  HTML5-based multi-device app...</p>
                <ul class="books">
                  <li><a href="http://www.jdoqocy.com/click-7625429-11290546?url=http%3A%2F%2Fshop.oreilly.com%2Fproduct%2F0636920030058.do%3Fcmp%3Daf-code-books-video-product_cj_0636920030058_%25zp&amp;cjsku=0636920030058"
                                                                                                    class="btn btn-default"><b>Buy
                        my book!</b></a></li>
                  <li><a href="https://www.amazon.com/Hands--Sencha-Touch-Real-World-Approach/dp/144936652X/ref=sr_1_1?ie=UTF8&amp;qid=1475512984&amp;sr=8-1&amp;keywords=hands-on+sencha+touch+2"
                                                                                                    class="btn btn-default"><b>Amazon</b></a></li>
                </ul>
                <script type="application/ld+json">
                  {
                    "@context": "http://schema.org/",
                    "@type": "Review",
                    "itemReviewed": {
                      "@type": "Book",
                      "name": "Hands-on Sencha Touch 2",
                      "author": {
                        "@type": "Organization",
                        "name": "Amazon",
                        "sameAs": "https://www.amazon.com"
                      },
                      "isbn": "144936652X"
                    },
                    "author": {
                      "@type": "Person",
                      "name": "Amazon",
                      "homeLocation": "Amsterdam",
                      "sameAs": "https://www.leeboonstra.com"
                    },
                    "reviewRating": {
                      "@type": "Rating",
                      "ratingValue": "5",
                      "bestRating": "5"
                    },
                    "publisher": {
                      "@type": "Organization",
                      "name": "O'Reilly Media"
                    },
                    "datePublished": "July 31, 2014",
                    "url": "https://www.amazon.com/Hands--Sencha-Touch-Real-World-Approach/dp/144936652X/ref=sr_1_1?ie=UTF8&qid=1475523336&sr=8-1&keywords=hands-on+sencha+touch",
                    "description": "Get hands-on experience building speedy mobile web apps with Sencha Touch 2.4, the user interface JavaScript framework built specifically for the mobile Web. "
                  }

                </script>
              </section>
            </div>
            <div class="sidebar-module categories">
              <h4>Categories</h4>
              <ul class="sidebar-module-list">
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/App-Cache/">App
                    Cache</a><span class="sidebar-module-list-count">1</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Bots/">Bots</a><span
                                                                                                  class="sidebar-module-list-count">3</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Containers/">Containers</a><span
                                                                                                  class="sidebar-module-list-count">8</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Cordova/">Cordova</a><span
                                                                                                  class="sidebar-module-list-count">2</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Django/">Django</a><span
                                                                                                  class="sidebar-module-list-count">2</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Ext-JS/">Ext
                    JS</a><span class="sidebar-module-list-count">8</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Google-Cloud-Platform/">Google
                    Cloud Platform</a><span class="sidebar-module-list-count">1</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Machine-Learning/">Machine
                    Learning</a><span class="sidebar-module-list-count">1</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Robotics/">Robotics</a><span
                                                                                                  class="sidebar-module-list-count">1</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Sencha/">Sencha</a><span
                                                                                                  class="sidebar-module-list-count">1</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Sencha-Architect/">Sencha
                    Architect</a><span class="sidebar-module-list-count">2</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Sencha-CMD/">Sencha
                    CMD</a><span class="sidebar-module-list-count">4</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Sencha-Touch/">Sencha
                    Touch</a><span class="sidebar-module-list-count">3</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Theming/">Theming</a><span
                                                                                                  class="sidebar-module-list-count">2</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/categories/Videos/">Videos</a><span
                                                                                                  class="sidebar-module-list-count">13</span></li>
              </ul>
            </div>
          </aside>
        </div>
      </article>
      <section id="related" class="related containerfluid">
        <div class="container">
          <div class="row">
            <div class="col col-sm-9">
              <h2>Related Posts</h2>
              <ul class="related-posts">
                <li class="related-posts-item"><a class="related-posts-link"
                                                                                                  href="/Videos/video-google-cloud-next-london/">Google
                    Cloud Next London Teaser</a></li>
              </ul>
            </div>
            <div class="col col-sm-3"></div>
          </div>
        </div>
      </section>
      <section id="comments" class="comments containerfluid">
        <div class="container">
          <div class="row">
            <div class="col col-sm-9">
              <h2>Comments</h2>
              <div class="disqus"></div><noscript>Please enable JavaScript to
                view the comments.</noscript>
            </div>
          </div>
          <div class="col col-sm-3"></div>
        </div>
      </section>
    </main>
    <footer class="foot">
      <div class="container">
        <div class="row">
          <div class="col col-sm-4">
            <div class="sidebar-module archive">
              <h4>Archives</h4>
              <ul class="sidebar-module-list">
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/archives/2018/">2018</a><span
                                                                                                  class="sidebar-module-list-count">7</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/archives/2017/">2017</a><span
                                                                                                  class="sidebar-module-list-count">8</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/archives/2016/">2016</a><span
                                                                                                  class="sidebar-module-list-count">18</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/archives/2015/">2015</a><span
                                                                                                  class="sidebar-module-list-count">5</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/archives/2014/">2014</a><span
                                                                                                  class="sidebar-module-list-count">11</span></li>
                <li class="sidebar-module-list-item"><a class="sidebar-module-list-link"
                                                                                                  href="/archives/2012/">2012</a><span
                                                                                                  class="sidebar-module-list-count">3</span></li>
              </ul>
            </div>
          </div>
          <div class="col col-sm-4">
            <h4>External Sites</h4>
            <ul>
              <li><a href="https://gist.github.com/savelee">My Gists Code
                  Snippets</a></li>
              <li><a href="http://www.github.com/savelee">My Github</a></li>
              <li><a href="http://speakerdeck.com/savelee/">My Slidedecks</a></li>
              <li><a href="http://www.amazon.com/Lee-Boonstra/e/B00MRXE3Q0/ref=sr_ntt_srch_lnk_1?qid=1436781780&amp;sr=8-1">My
                  Book</a></li>
              <li><a href="http://twitter.com/ladysign">My Twitter</a></li>
              <li><a href="https://www.linkedin.com/in/leeboonstra">My Linkedin</a></li>
            </ul>
          </div>
          <div class="col col-sm-4">
            <div class="sidebar-module">
              <h4>Recents</h4>
              <ul class="sidebar-module-list">
                <li><a href="/Videos/video-frontmania/">Keynote Frontmania:
                    Machine Learning for JavaScript developers</a></li>
                <li><a href="/Videos/video-google-cloud-next-london/">Google
                    Cloud Next London Teaser</a></li>
                <li><a href="/Videos/video-digitalwednesday/">Digital Wednesday
                    Building agents for the Google Assistant (Dutch)</a></li>
                <li><a href="/Bots/conditional-templating-in-dialogflow-for-google-assistant/">Conditional
                    Templating in Dialogflow for Google Assistant</a></li>
                <li><a href="/Bots/custom-greeting-google-assistant-app-with-dialogflow-and-actions-on-google/">Custom
                    greeting Google Assistant app with Dialogflow and Actions
                    on Google</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <footer class="bottom">
      <div class="row">&copy; 2018 Lee Boonstra</div>
    </footer>
  </div>
  <script>
    /*if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/serviceworker.js').then(function() {
        console.log('ServiceWorker has been registered!');
      }).catch(console.error);
    }*/
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').then(registration => {
          console.log('SW registered: ', registration);
        }).catch(registrationError => {
          console.log('SW registration failed: ', registrationError);
        });
      });
    }

  </script>
  <script src="/assets/js/vendor/modernizr-3.6.0.min.js"></script>
  <script src="/assets/js/vendor/jquery-3.3.1.min.js"></script>
  <script src="/assets/js/vendor/popper.min.js"></script>
  <script src="/assets/js/vendor/bootstrap.min.js"></script>
  <script src="/assets/js/disqus-lazy-min.js"></script>
  <script>
    window.twttr = function(t, e, r) {
      var n, i = t.getElementsByTagName(e)[0],
        w = window.twttr || {};
      return t.getElementById(r) || ((n = t.createElement(e)).id = r, n.src =
        "//platform.twitter.com/widgets.js", i.parentNode.insertBefore(n, i),
        w._e = [], w.ready = function(t) {
          w._e.push(t)
        }), w
    }(document, "script", "twitter-wjs")

  </script>
  <script>
    $.disqusLoader(".disqus", {
      scriptUrl: "//leeboonstra-com.disqus.com/embed.js"
    })

  </script>
  <script type="text/javascript">
    ! function(e, a, t, n, g, c, o) {
      e.GoogleAnalyticsObject = "ga", e.ga = e.ga || function() {
          (e.ga.q = e.ga.q || []).push(arguments)
        }, e.ga.l = 1 * new Date, c = a.createElement(t), o = a.getElementsByTagName(
          t)[0], c.async = 1, c.src = "//www.google-analytics.com/analytics.js",
        o.parentNode.insertBefore(c, o)
    }(window, document, "script"), ga("create", "UA-85081556-1", "auto"), ga(
      "send", "pageview")

  </script>
</body>

</html>
